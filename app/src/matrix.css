/* LaTeX矩阵样式 */
.latex-matrix {
    display: inline-block;
    position: relative;
    font-family: "Times New Roman", serif;
    font-size: 1.2em;
    margin: 20px 0;
    padding: 0 3px;  /* 减小左右padding */
}

/* 使用伪元素添加方括号 */
.latex-matrix::before,
.latex-matrix::after {
    content: '';
    position: absolute;
    top: -2px;
    bottom: -2px;
    width: 6px;  /* 减小方括号的整体宽度 */
    background:
        linear-gradient(to right, black 100%, transparent 100%) top,
        linear-gradient(to right, black 100%, transparent 100%) bottom,
        linear-gradient(to bottom, black, black) left;
    background-size: 
        6px 2px,  /* 调整横线宽度 */
        6px 2px,
        2px 100%;
    background-repeat: no-repeat;
}

.latex-matrix::before {
    left: 0;
}

.latex-matrix::after {
    right: 0;
    transform: scaleX(-1); /* 翻转右边的方括号 */
}

.latex-matrix .matrix-content {
    padding: 0.2em 0.3em;  /* 减小内容区域的padding */
}

.latex-matrix .matrix-row {
    display: flex;
    justify-content: center;
    margin: 2px 0;
    line-height: 1.2;
}

.matrix-element-container {
    padding: 3px 8px;
    text-align: center;
}

.matrix-element {
    display: inline-block;
    min-width: 20px;
    color: #660985;  /* 设置数字颜色为紫色 */
    font-weight: 500;  /* 稍微加粗数字 */
}

/* 添加省略号样式 */
.matrix-element.dots {
    font-weight: bold;
    letter-spacing: 2px;
}

.matrix-display {
    font-family: monospace;
    white-space: pre;
} 



/* 确保结果容器可以正确显示预览框 */
.result-container {
    position: relative;  /* 为预览框提供定位参考 */
}

/* 在消息图标中显示的矩阵样式调整 */
.message-icon.matrix {
    background: transparent;
    padding: 8px 4px;
}

.message-icon .latex-matrix {
    position: absolute;  /* 相对于图标定位 */
    right: 100%;  /* 显示在图标的左侧 */
    top: 0;  /* 与图标顶部对齐 */
    margin: 0 8px;  /* 与图标保持水平距离 */
    font-size: 1em;
    background: #eee8e8;  /* 改为白色背景 */
    padding: 16px 24px;
    border-radius: 4px;
    z-index: 1000;  /* 确保显示在最上层 */
}

/* 调整方括号位置 */
.message-icon .latex-matrix::before {
    left: 24px;
}

.message-icon .latex-matrix::after {
    right: 24px;
}
